"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[649],{42593:function(e,n,r){var t=r(90228),s=r.n(t),a=r(15558),o=r.n(a),i=r(87999),c=r.n(i),l=r(48030),u=r(58749),d=r(63991),f=r(38450),m=r(50151),x=r(75271),h=r(52676);n.Z=function(e){var n=e.networkSwitch,r=void 0===n?l.K6.BTC:n,t=e.apiName,a=e.title,i=e.onClick,p=e.onCallback,j=e.params,k=void 0===j?[]:j,w=(0,d.useModel)("SwitchNetworkModel",(function(e){return{network:e.networkSwitches[r]}})).network,v=(0,x.useCallback)(c()(s()().mark((function e(){var n,r,a;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return i(),e.abrupt("return");case 3:return e.prev=3,n=(0,l.fn)(w),e.next=7,n[t].apply(n,o()(k));case 7:r=e.sent,"[object Object]"===Object.prototype.toString.call(r)?p(r):p({"API method only returns":r}),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(3),!(e.t0 instanceof TypeError)){e.next=17;break}return a=JSON.stringify(e.t0,Object.getOwnPropertyNames(e.t0)),p({error:a}),e.abrupt("return");case 17:p({error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[3,11]])}))),[p,i]);return(0,h.jsxs)(h.Fragment,{children:[a?(0,h.jsx)(f.Z.Title,{level:4,children:a}):null,(0,h.jsxs)(m.ZP,{title:t,onClick:v,icon:(0,h.jsx)(u.Z,{}),children:["Test ",t]})]})}},61024:function(e,n,r){r.d(n,{Z:function(){return w}});var t=r(90228),s=r.n(t),a=r(87999),o=r.n(a),i=r(48305),c=r.n(i),l=r(2334),u=r(38450),d=r(25585),f=r(40282),m=r(6374),x=r(75271),h=r(51709),p="relative___v5wGG",j="copy___BEfhw",k=r(52676),w=function(e){var n=e.language,r=void 0===n?"typescript":n,t=e.text,a=void 0===t?"":t,i=(0,x.useState)(""),w=c()(i,2),v=w[0],g=w[1];return(0,x.useEffect)((function(){var e=function(){var e=o()(s()().mark((function e(){var n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return g(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,m.WU(a,{parser:"babel",plugins:[d.Z,f]});case 6:n=e.sent,g(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn(e.t0),g(JSON.stringify(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]),(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)(h.Z,{language:r,wrapLines:!0,children:v}),(0,k.jsx)("div",{className:j,children:(0,k.jsx)(u.Z.Text,{copyable:{text:v,icon:(0,k.jsx)(l.Z,{})}})})]})}},59099:function(e,n,r){var t=r(48030),s=r(65379),a=r(75025),o=r(88667),i=r(63991),c=r(38450),l=r(17654),u=r(50151),d=r(75271),f=r(52676);n.Z=function(e){var n=e.networkSwitch,r=void 0===n?t.K6.BTC:n,m=e.params,x=void 0===m?[]:m,h=e.onError,p=(0,i.useModel)("SwitchNetworkModel",(function(e){return{switchNetworkName:e.networkSwitches[r],setSwitchNetwork:e.setSwitchNetwork}})),j=p.switchNetworkName,k=p.setSwitchNetwork,w=(0,i.useModel)("NetworkModel",(function(e){return{network:e.networks[j]||{},connect:e.connectNetwork}})),v=w.network,g=w.connect,Z=v.address,y=v.friendlyAddress,b=v.error;(0,d.useEffect)((function(){b&&(null==h||h(b))}),[b]),(0,d.useEffect)((function(){k(r,j),g(j,x)}),[]);var N=(0,d.useMemo)((function(){return(0,f.jsxs)(f.Fragment,{children:["".concat(j,": "),(0,f.jsx)(a.k,{ellipsis:!0,addressPrefix:!1,address:Z,tooltip:(0,f.jsx)(c.Z.Paragraph,{style:{color:"#fff"},copyable:!0,children:Z})})]})}),[Z,j]),C=(0,d.useMemo)((function(){return(0,f.jsx)(a.k,{ellipsis:!0,addressPrefix:!1,address:y,tooltip:(0,f.jsx)(c.Z.Paragraph,{style:{color:"#fff"},copyable:!0,children:y})})}),[y]),S=t.k$[r],M=(0,d.useCallback)((function(e){g(e.key,x),k(r,e.key)}),[]),P=(0,d.useCallback)((function(){g(j,x),k(r,j)}),[]);return(0,f.jsxs)(f.Fragment,{children:[S.length>1?(0,f.jsx)(l.Z,{menu:{items:S,onClick:M},children:(0,f.jsx)(u.ZP,{icon:(0,f.jsx)(o.m,{}),iconPosition:"start",children:(0,f.jsxs)(f.Fragment,{children:["Connect to ",Z?N:"",(0,f.jsx)(s.Z,{})]})})}):null,1===S.length?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.ZP,{icon:(0,f.jsx)(o.m,{}),iconPosition:"start",onClick:P,children:(0,f.jsxs)(f.Fragment,{children:["Connect to ",Z?N:j]})}),(0,f.jsx)("br",{}),y?(0,f.jsx)(u.ZP,{icon:(0,f.jsx)(o.m,{}),iconPosition:"start",style:{marginTop:16},children:(0,f.jsxs)(f.Fragment,{children:["friendlyAddress: ",y?C:""]})}):null]}):null]})}},28243:function(e,n,r){r.d(n,{Z:function(){return d}});var t=r(38450),s=r(75271),a=r(1434),o=r.n(a),i=r(52676),c=function(e){var n=e.title,r=void 0===n?"":n,a=e.value,c=(0,s.useCallback)((function(e){var n=e.src;"string"==typeof n&&window.navigator.clipboard.writeText(n)}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.Z.Title,{level:4,children:r||"预览区"}),(0,i.jsx)(o(),{style:{wordBreak:"break-all"},src:a,quotesOnKeys:!1,displayDataTypes:!1,collapseStringsAfterLength:20,enableClipboard:c})]})},l=r(73779),u=r(14721),d=function(e){var n=e.children,r=e.previewData;return(0,i.jsxs)(l.Z,{justify:"space-between",gutter:[0,32],children:[(0,i.jsx)(u.Z,{span:10,xs:24,sm:24,md:10,lg:10,xl:10,children:n}),(0,i.jsx)(u.Z,{span:12,xs:24,sm:24,md:12,lg:12,xl:12,children:(0,i.jsx)(c,{value:r})})]})}},73966:function(e,n,r){r.d(n,{B:function(){return t}});var t="https://sherlockhomer.github.io/wallet-dapp-demo-release/tonconnect-manifest.json"},79:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(73966),s=r(26068),a=r.n(s),o=r(67825),i=r.n(o),c=r(48305),l=r.n(c),u=r(42593),d=r(61024),f=r(59099),m=r(28243),x=r(48030),h=r(23465),p=r(42875),j=r(63991),k=r(570),w=r(83360),v=r(92574),g=r(62674),Z=r(50151),y=r(75271),b=r(52676),N=["key","name"];function C(){var e=(0,y.useState)({}),n=l()(e,2),r=n[0],s=n[1],o=k.Z.useForm(),c=l()(o,1)[0],C=k.Z.useWatch([],c);console.log(C);var S=(0,j.useModel)("NetworkModel",(function(e){return{network:e.networks[x.Zc.TON]}})).network,M=Math.floor(Date.now()/1e3)+604800,P=function(e){s(e)},T=(0,y.useMemo)((function(){return{method:"sendTransaction",params:[{valid_until:M,network:"-239",from:null==S?void 0:S.address,messages:null==C?void 0:C.messages}],id:1}}),[C,S,M]),O=(0,y.useMemo)((function(){return"\n    try {\n      let res = await ".concat((0,x.ri)(x.Zc.TON),".tonconnect.send(").concat(JSON.stringify(T),");\n      console.log(res)\n    } catch (e) {\n      console.log(e);\n    }")}),[T]);return(0,b.jsx)(m.Z,{previewData:r,children:(0,b.jsxs)(w.Z,{direction:"vertical",size:"middle",style:{display:"flex"},children:[(0,b.jsx)(f.Z,{networkSwitch:x.K6.TON,onError:P,params:[2,{manifestUrl:t.B,items:[{name:"ton_addr"}]}]}),(0,b.jsx)(k.Z,{form:c,name:"dynamic_form",autoComplete:"off",children:(0,b.jsx)(k.Z.List,{name:"messages",children:function(e,n){var r=n.add,t=n.remove;return(0,b.jsxs)(b.Fragment,{children:[e.map((function(e){var n=e.key,r=e.name,s=i()(e,N);return(0,b.jsxs)(v.Z,{gap:"small",align:"baseline",children:[(0,b.jsx)(k.Z.Item,a()(a()({},s),{},{name:[r,"address"],rules:[{required:!0,message:"Missing address"}],children:(0,b.jsx)(g.Z,{placeholder:"address"})})),(0,b.jsx)(k.Z.Item,a()(a()({},s),{},{name:[r,"amount"],rules:[{required:!0,message:"Missing amount"}],children:(0,b.jsx)(g.Z,{placeholder:"amount"})})),(0,b.jsx)(k.Z.Item,a()(a()({},s),{},{name:[r,"payload"],rules:[{message:"Missing payload"}],children:(0,b.jsx)(g.Z,{placeholder:"payload (option)"})})),(0,b.jsx)(k.Z.Item,a()(a()({},s),{},{name:[r,"stateInit"],rules:[{message:"Missing stateInit"}],children:(0,b.jsx)(g.Z,{placeholder:"stateInit (option)"})})),(0,b.jsx)(h.Z,{onClick:function(){return t(r)}})]},n)})),(0,b.jsx)(k.Z.Item,{children:(0,b.jsx)(Z.ZP,{onClick:function(){return r()},block:!0,icon:(0,b.jsx)(p.Z,{}),children:"Add Params"})})]})}})}),(0,b.jsx)(u.Z,{apiName:"send",networkSwitch:x.K6.TON,onCallback:P,params:[T]}),(0,b.jsx)(d.Z,{text:O})]})})}var S=r(62532),M=r(59354),P=function(){return(0,b.jsx)(S._z,{ghost:!0,children:(0,b.jsx)(M.LD,{manifestUrl:t.B,children:(0,b.jsx)(C,{})})})}}}]);