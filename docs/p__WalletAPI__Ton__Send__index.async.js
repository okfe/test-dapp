"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[649],{23465:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(89856),s=t(75271),a={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z",fill:n}},{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z",fill:e}}]}},name:"minus-circle",theme:"twotone"},c=t(66854),i=function(e,n){return s.createElement(c.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var o=s.forwardRef(i)},42875:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(89856),s=t(75271),a={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z",fill:n}},{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z",fill:e}}]}},name:"plus-circle",theme:"twotone"},c=t(66854),i=function(e,n){return s.createElement(c.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var o=s.forwardRef(i)},42593:function(e,n,t){var r=t(90228),s=t.n(r),a=t(15558),c=t.n(a),i=t(87999),o=t.n(i),l=t(48030),u=t(58749),d=t(2419),f=t(38450),h=t(50151),m=t(75271),p=t(52676);n.Z=function(e){var n=e.networkSwitch,t=void 0===n?l.K6.BTC:n,r=e.apiName,a=e.title,i=e.onClick,x=e.onCallback,v=e.params,w=void 0===v?[]:v,g=(0,d.useModel)("SwitchNetworkModel",(function(e){return{network:e.networkSwitches[t]}})).network,j=(0,m.useCallback)(o()(s()().mark((function e(){var n,t,a;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return i(),e.abrupt("return");case 3:return e.prev=3,n=(0,l.fn)(g),e.next=7,n[r].apply(n,c()(w));case 7:t=e.sent,"[object Object]"===Object.prototype.toString.call(t)?x(t):x({"API method only returns":t}),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(3),!(e.t0 instanceof TypeError)){e.next=17;break}return a=JSON.stringify(e.t0,Object.getOwnPropertyNames(e.t0)),x({error:a}),e.abrupt("return");case 17:x({error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[3,11]])}))),[x,i]);return(0,p.jsxs)(p.Fragment,{children:[a?(0,p.jsx)(f.Z.Title,{level:4,children:a}):null,(0,p.jsxs)(h.ZP,{title:r,onClick:j,icon:(0,p.jsx)(u.Z,{}),children:["Test ",r]})]})}},61024:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(90228),s=t.n(r),a=t(87999),c=t.n(a),i=t(48305),o=t.n(i),l=t(2334),u=t(38450),d=t(5632),f=t(30597),h=(t(28999),t(25585)),m=t(40282),p=t(6374),x=t(75271),v="relative___v5wGG",w="copy___BEfhw",g=t(52676);d.Z.registerLanguage("typescript",f.Z);var j=function(e){var n=e.language,t=void 0===n?"typescript":n,r=e.text,a=void 0===r?"":r,i=(0,x.useState)(""),f=o()(i,2),j=f[0],k=f[1],Z=(0,x.useState)(""),y=o()(Z,2),b=y[0],M=y[1];return(0,x.useEffect)((function(){var e=function(){var e=c()(s()().mark((function e(){var n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return k(""),e.abrupt("return");case 3:return e.prev=3,e.next=6,p.WU(a,{parser:"babel",plugins:[h.Z,m]});case 6:n=e.sent,k(n),M(d.Z.highlight(n,{language:t}).value),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.warn(e.t0),k(JSON.stringify(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]),(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("pre",{children:(0,g.jsx)("code",{dangerouslySetInnerHTML:{__html:b}})}),(0,g.jsx)("div",{className:w,children:(0,g.jsx)(u.Z.Text,{copyable:{text:j,icon:(0,g.jsx)(l.Z,{})}})})]})}},59099:function(e,n,t){var r=t(48030),s=t(75025),a=t(10822),c=t(88667),i=t(2419),o=t(38450),l=t(17654),u=t(50151),d=t(75271),f=t(52676);n.Z=function(e){var n=e.networkSwitch,t=void 0===n?r.K6.BTC:n,h=e.params,m=void 0===h?[]:h,p=e.onError,x=(0,i.useModel)("SwitchNetworkModel",(function(e){return{switchNetworkName:e.networkSwitches[t],setSwitchNetwork:e.setSwitchNetwork}})),v=x.switchNetworkName,w=x.setSwitchNetwork,g=(0,i.useModel)("NetworkModel",(function(e){return{network:e.networks[v]||{},connect:e.connectNetwork}})),j=g.network,k=g.connect,Z=j.address,y=j.friendlyAddress,b=j.error;(0,d.useEffect)((function(){b&&(null==p||p(b))}),[b]),(0,d.useEffect)((function(){w(t,v),k(v,m)}),[]);var M=(0,d.useMemo)((function(){return(0,f.jsxs)(f.Fragment,{children:["".concat(v,": "),(0,f.jsx)(s.k,{ellipsis:!0,addressPrefix:!1,address:Z,tooltip:(0,f.jsx)(o.Z.Paragraph,{style:{color:"#fff"},copyable:!0,children:Z})})]})}),[Z,v]),N=(0,d.useMemo)((function(){return(0,f.jsx)(s.k,{ellipsis:!0,addressPrefix:!1,address:y,tooltip:(0,f.jsx)(o.Z.Paragraph,{style:{color:"#fff"},copyable:!0,children:y})})}),[y]),S=r.k$[t],C=(0,d.useCallback)((function(e){k(e.key,m),w(t,e.key)}),[]),T=(0,d.useCallback)((function(){k(v,m),w(t,v)}),[]);return(0,f.jsxs)(f.Fragment,{children:[S.length>1?(0,f.jsx)(l.Z.Button,{menu:{items:S,onClick:C},icon:(0,f.jsx)(a.Y,{style:{fontSize:20}}),children:Z?M:"Click icon to connect"}):null,1===S.length?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.ZP,{icon:(0,f.jsx)(c.m,{}),iconPosition:"start",onClick:T,children:(0,f.jsxs)(f.Fragment,{children:["Connect to ",Z?M:v]})}),(0,f.jsx)("br",{}),y?(0,f.jsx)(u.ZP,{icon:(0,f.jsx)(c.m,{}),iconPosition:"start",style:{marginTop:16},children:(0,f.jsxs)(f.Fragment,{children:["friendlyAddress: ",y?N:""]})}):null]}):null]})}},28243:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(3991),s=t(38450),a=t(75271),c=t(1434),i=t.n(c),o=t(52676),l=function(e){var n=e.title,t=void 0===n?"":n,c=e.value,l=(0,r.Z)(),u=(0,a.useCallback)((function(e){var n=e.src;"string"==typeof n&&window.navigator.clipboard.writeText(n)}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z.Title,{level:4,children:t||"Preview Zone"}),(0,o.jsx)(i(),{theme:l?"pop":"rjv-default",style:{wordBreak:"break-all"},src:c,quotesOnKeys:!1,displayDataTypes:!1,collapseStringsAfterLength:20,enableClipboard:u})]})},u=t(73779),d=t(14721),f=function(e){var n=e.children,t=e.previewData;return(0,o.jsxs)(u.Z,{justify:"space-between",gutter:[0,32],children:[(0,o.jsx)(d.Z,{span:10,xs:24,sm:24,md:10,lg:10,xl:10,children:n}),(0,o.jsx)(d.Z,{span:12,xs:24,sm:24,md:12,lg:12,xl:12,children:(0,o.jsx)(l,{value:t})})]})}},73966:function(e,n,t){t.d(n,{B:function(){return r}});var r="https://okxwallet.github.io/test-dapp/tonconnect-manifest.json"},79:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(73966),s=t(26068),a=t.n(s),c=t(67825),i=t.n(c),o=t(48305),l=t.n(o),u=t(42593),d=t(61024),f=t(59099),h=t(28243),m=t(48030),p=t(23465),x=t(42875),v=t(2419),w=t(570),g=t(83360),j=t(92574),k=t(62674),Z=t(50151),y=t(75271),b=t(52676),M=["key","name"];function N(){var e=(0,y.useState)({}),n=l()(e,2),t=n[0],s=n[1],c=w.Z.useForm(),o=l()(c,1)[0],N=w.Z.useWatch([],o);console.log(N);var S=(0,v.useModel)("NetworkModel",(function(e){return{network:e.networks[m.Zc.TON]}})).network,C=Math.floor(Date.now()/1e3)+604800,T=function(e){s(e)},P=(0,y.useMemo)((function(){return{method:"sendTransaction",params:[{valid_until:C,network:"-239",from:null==S?void 0:S.address,messages:null==N?void 0:N.messages}],id:1}}),[N,S,C]),z=(0,y.useMemo)((function(){return"\n    try {\n      let res = await ".concat((0,m.ri)(m.Zc.TON),".tonconnect.send(").concat(JSON.stringify(P),");\n      console.log(res)\n    } catch (e) {\n      console.log(e);\n    }")}),[P]);return(0,b.jsx)(h.Z,{previewData:t,children:(0,b.jsxs)(g.Z,{direction:"vertical",size:"middle",style:{display:"flex"},children:[(0,b.jsx)(f.Z,{networkSwitch:m.K6.TON,onError:T,params:[2,{manifestUrl:r.B,items:[{name:"ton_addr"}]}]}),(0,b.jsx)(w.Z,{form:o,name:"dynamic_form",autoComplete:"off",children:(0,b.jsx)(w.Z.List,{name:"messages",children:function(e,n){var t=n.add,r=n.remove;return(0,b.jsxs)(b.Fragment,{children:[e.map((function(e){var n=e.key,t=e.name,s=i()(e,M);return(0,b.jsxs)(j.Z,{gap:"small",align:"baseline",children:[(0,b.jsx)(w.Z.Item,a()(a()({},s),{},{name:[t,"address"],rules:[{required:!0,message:"Missing address"}],children:(0,b.jsx)(k.Z,{placeholder:"address"})})),(0,b.jsx)(w.Z.Item,a()(a()({},s),{},{name:[t,"amount"],rules:[{required:!0,message:"Missing amount"}],children:(0,b.jsx)(k.Z,{placeholder:"amount"})})),(0,b.jsx)(w.Z.Item,a()(a()({},s),{},{name:[t,"payload"],rules:[{message:"Missing payload"}],children:(0,b.jsx)(k.Z,{placeholder:"payload (option)"})})),(0,b.jsx)(w.Z.Item,a()(a()({},s),{},{name:[t,"stateInit"],rules:[{message:"Missing stateInit"}],children:(0,b.jsx)(k.Z,{placeholder:"stateInit (option)"})})),(0,b.jsx)(p.Z,{onClick:function(){return r(t)}})]},n)})),(0,b.jsx)(w.Z.Item,{children:(0,b.jsx)(Z.ZP,{onClick:function(){return t()},block:!0,icon:(0,b.jsx)(x.Z,{}),children:"Add Params"})})]})}})}),(0,b.jsx)(u.Z,{apiName:"send",networkSwitch:m.K6.TON,onCallback:T,params:[P]}),(0,b.jsx)(d.Z,{text:z})]})})}var S=t(62532),C=t(59354),T=function(){return(0,b.jsx)(S._z,{ghost:!0,children:(0,b.jsx)(C.LD,{manifestUrl:r.B,children:(0,b.jsx)(N,{})})})}}}]);