(self.webpackChunk=self.webpackChunk||[]).push([[201],{22121:function(r,e,t){"use strict";var n=t(79847),o=t(17992),i=t(61023),s=t(77686),a=t(19842),c=t(24775),u=t(62907),f=t(52622),l=t(75271),h=t(52676);e.Z=function(r){var e=r.networkSwitch,t=void 0===e?n.K6.BTC:e,p=r.params,d=void 0===p?[]:p,g=r.onError,w=(0,a.useModel)("SwitchNetworkModel",(function(r){return{switchNetworkName:r.networkSwitches[t],setSwitchNetwork:r.setSwitchNetwork}})),x=w.switchNetworkName,y=w.setSwitchNetwork,v=(0,a.useModel)("NetworkModel",(function(r){return{network:r.networks[x]||{},connect:r.connectNetwork}})),m=v.network,b=v.connect,j=m.address,k=m.friendlyAddress,A=m.error;(0,l.useEffect)((function(){A&&(null==g||g(A))}),[A]),(0,l.useEffect)((function(){y(t,x),b(x,d)}),[]);var S=(0,l.useMemo)((function(){return(0,h.jsxs)(h.Fragment,{children:["".concat(x,": "),(0,h.jsx)(o.k,{ellipsis:!0,addressPrefix:!1,address:j,tooltip:(0,h.jsx)(c.Z.Paragraph,{style:{color:"#fff"},copyable:!0,children:j})})]})}),[j,x]),E=(0,l.useMemo)((function(){return(0,h.jsx)(o.k,{ellipsis:!0,addressPrefix:!1,address:k,tooltip:(0,h.jsx)(c.Z.Paragraph,{style:{color:"#fff"},copyable:!0,children:k})})}),[k]),T=n.k$[t],U=(0,l.useCallback)((function(r){b(r.key,d),y(t,r.key)}),[]),Z=(0,l.useCallback)((function(){b(x,d),y(t,x)}),[]);return(0,h.jsxs)(h.Fragment,{children:[T.length>1?(0,h.jsx)(u.Z.Button,{menu:{items:T,onClick:U},icon:(0,h.jsx)(i.Y,{style:{fontSize:20}}),children:j?S:"Click icon to connect"}):null,1===T.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.ZP,{icon:(0,h.jsx)(s.m,{}),iconPosition:"start",onClick:Z,children:(0,h.jsxs)(h.Fragment,{children:["Connect to ",j?S:x]})}),(0,h.jsx)("br",{}),k?(0,h.jsx)(f.ZP,{icon:(0,h.jsx)(s.m,{}),iconPosition:"start",style:{marginTop:16},children:(0,h.jsxs)(h.Fragment,{children:["friendlyAddress: ",k?E:""]})}):null]}):null]})}},56539:function(r,e,t){"use strict";t.d(e,{Z:function(){return h}});var n=t(89781),o=t(24775),i=t(75271),s=t(33255),a=t.n(s),c=t(52676),u=function(r){var e=r.title,t=void 0===e?"":e,s=r.value,u=(0,n.Z)(),f=(0,i.useCallback)((function(r){var e=r.src;"string"==typeof e&&window.navigator.clipboard.writeText(e)}),[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z.Title,{level:4,children:t||"Preview Zone"}),(0,c.jsx)(a(),{theme:u?"pop":"rjv-default",style:{wordBreak:"break-all"},src:s,quotesOnKeys:!1,displayDataTypes:!1,collapseStringsAfterLength:20,enableClipboard:f})]})},f=t(39749),l=t(77079),h=function(r){var e=r.children,t=r.previewData;return(0,c.jsxs)(f.Z,{justify:"space-between",gutter:[0,32],children:[(0,c.jsx)(l.Z,{span:10,xs:24,sm:24,md:10,lg:10,xl:10,children:e}),(0,c.jsx)(l.Z,{span:12,xs:24,sm:24,md:12,lg:12,xl:12,children:(0,c.jsx)(u,{value:t})})]})}},87627:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return v}});var n=t(48305),o=t.n(n),i=t(22121),s=t(56539),a=t(55872).Buffer;function c(r){if(r.length<1)return r;for(var e=r.length-1,t=0,n=0;n<r.length/2;n++)t=r[n],r[n]=r[e],r[e]=t,e--;return r}var u=t(79393),f=t(74476),l=t(52622),h=t(75271),p=t(80686),d=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.QW.bitcoin,t=p._B.fromHex(r,{network:e});return t},g="subTitle___OJKLw",w=t(52676),x=function(){var r=(0,h.useState)(""),e=o()(r,2),t=e[0],n=e[1],p=(0,h.useState)({}),x=o()(p,2),y=x[0],v=x[1];return(0,w.jsx)(s.Z,{previewData:y,children:(0,w.jsxs)(u.Z,{gap:"large",vertical:!0,children:[(0,w.jsx)(u.Z,{children:(0,w.jsx)(i.Z,{})}),(0,w.jsxs)(u.Z,{gap:"middle",vertical:!0,children:[(0,w.jsx)("div",{className:g,children:"1. 输入PSBT (HEX)"}),(0,w.jsx)(f.Z.TextArea,{rows:18,value:t,onChange:function(r){n(r.target.value)}})]}),(0,w.jsxs)(u.Z,{gap:"middle",vertical:!0,children:[(0,w.jsx)("div",{className:g,children:"2. 解析PSBT"}),(0,w.jsx)(l.ZP,{type:"primary",onClick:function(){try{var r=function(r){if(r){var e=function(r){try{return r.extractTransaction(!0)}catch(r){}}(r),t=(r.txInputs||[]).map((function(t,n){var o=(r.data.inputs[n]||{}).nonWitnessUtxo,i=(r.data.inputs[n]||{}).witnessScript,s=(r.data.inputs[n]||{}).witnessUtxo,u=(r.data.inputs[n]||{}).redeemScript,f=(r.data.inputs[n]||{}).tapLeafScript,l=(r.data.inputs[n]||{}).sighashType,h=(r.data.inputs[n]||{}).bip32Derivation,p=(r.data.inputs[n]||{}).finalScriptSig,d=(r.data.inputs[n]||{}).finalScriptWitness,g={};u&&(g.redeem={output:u}),s&&(g.value=s.value,g.script=s.script,g.witnessScript=i);var w=d?e&&e.ins[n].witness:null,x=(h||[]).map((function(r){return{fingerprint:r.masterFingerprint?r.masterFingerprint.toString("hex"):"",publicKey:r.pubkey?r.pubkey.toString("hex"):"",path:r.path}}));return{sequence:t.sequence,index:t.index,hash:t.hash?c(a.from(t.hash,"hex")).toString("hex"):"",previousTxHex:o?o.toString("hex"):"",utxo:g,script:p,tapLeafScript:f,redeemScript:u,witnessScript:i,witness:w,sighashType:l,publicKeysList:x}}));return{inputs:t,outputs:(r.txOutputs||[]).map((function(e,t){var n=((r.data.outputs[t]||{}).bip32Derivation||[]).map((function(r){return{fingerprint:r.masterFingerprint?r.masterFingerprint.toString("hex"):"",publicKey:r.pubkey?r.pubkey.toString("hex"):"",path:r.path}}));return{value:e.value,script:e.script,address:r.txOutputs[t].address||"",publicKeysList:n}}))}}}(d(t));v(r)}catch(r){v({error:r.toString()})}},children:"解析"})]})]})})},y=t(99631),v=function(){return(0,w.jsx)(y._z,{ghost:!0,children:(0,w.jsx)(x,{})})}},17110:function(r){"use strict";r.exports=function(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(255!==e[i])throw new TypeError(o+" is ambiguous");e[i]=n}var s=r.length,a=r.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(r){if("string"!=typeof r)throw new TypeError("Expected String");if(0===r.length)return new Uint8Array;for(var t=0,n=0,o=0;r[t]===a;)n++,t++;for(var i=(r.length-t)*c+1>>>0,u=new Uint8Array(i);r[t];){var f=e[r.charCodeAt(t)];if(255===f)return;for(var l=0,h=i-1;(0!==f||l<o)&&-1!==h;h--,l++)f+=s*u[h]>>>0,u[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=l,t++}for(var p=i-o;p!==i&&0===u[p];)p++;for(var d=new Uint8Array(n+(i-p)),g=n;p!==i;)d[g++]=u[p++];return d}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,n=0,o=0,i=e.length;o!==i&&0===e[o];)o++,t++;for(var c=(i-o)*u+1>>>0,f=new Uint8Array(c);o!==i;){for(var l=e[o],h=0,p=c-1;(0!==l||h<n)&&-1!==p;p--,h++)l+=256*f[p]>>>0,f[p]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=h,o++}for(var d=c-n;d!==c&&0===f[d];)d++;for(var g=a.repeat(t);d<c;++d)g+=r.charAt(f[d]);return g},decodeUnsafe:f,decode:function(r){var e=f(r);if(e)return e;throw new Error("Non-base"+s+" character")}}}},53439:function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bech32m=e.bech32=void 0;const t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let r=0;r<t.length;r++){const e=t.charAt(r);n[e]=r}function o(r){const e=r>>25;return(33554431&r)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function i(r){let e=1;for(let t=0;t<r.length;++t){const n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=o(e)^n>>5}e=o(e);for(let t=0;t<r.length;++t){const n=r.charCodeAt(t);e=o(e)^31&n}return e}function s(r,e,t,n){let o=0,i=0;const s=(1<<t)-1,a=[];for(let n=0;n<r.length;++n)for(o=o<<e|r[n],i+=e;i>=t;)i-=t,a.push(o>>i&s);if(n)i>0&&a.push(o<<t-i&s);else{if(i>=e)return"Excess padding";if(o<<t-i&s)return"Non-zero padding"}return a}function a(r){return s(r,8,5,!0)}function c(r){const e=s(r,5,8,!1);if(Array.isArray(e))return e}function u(r){const e=s(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function f(r){let e;function s(r,t){if(t=t||90,r.length<8)return r+" too short";if(r.length>t)return"Exceeds length limit";const s=r.toLowerCase(),a=r.toUpperCase();if(r!==s&&r!==a)return"Mixed-case string "+r;const c=(r=s).lastIndexOf("1");if(-1===c)return"No separator character for "+r;if(0===c)return"Missing prefix for "+r;const u=r.slice(0,c),f=r.slice(c+1);if(f.length<6)return"Data too short";let l=i(u);if("string"==typeof l)return l;const h=[];for(let r=0;r<f.length;++r){const e=f.charAt(r),t=n[e];if(void 0===t)return"Unknown character "+e;l=o(l)^t,r+6>=f.length||h.push(t)}return l!==e?"Invalid checksum for "+r:{prefix:u,words:h}}return e="bech32"===r?1:734539939,{decodeUnsafe:function(r,e){const t=s(r,e);if("object"==typeof t)return t},decode:function(r,e){const t=s(r,e);if("object"==typeof t)return t;throw new Error(t)},encode:function(r,n,s){if(s=s||90,r.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=i(r=r.toLowerCase());if("string"==typeof a)throw new Error(a);let c=r+"1";for(let r=0;r<n.length;++r){const e=n[r];if(e>>5!=0)throw new Error("Non 5-bit word");a=o(a)^e,c+=t.charAt(e)}for(let r=0;r<6;++r)a=o(a);a^=e;for(let r=0;r<6;++r){c+=t.charAt(a>>5*(5-r)&31)}return c},toWords:a,fromWordsUnsafe:c,fromWords:u}}e.bech32=f("bech32"),e.bech32m=f("bech32m")},11565:function(r,e,t){const n=t(17110);r.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},61874:function(r,e,t){var n=t(55872),o=n.Buffer;function i(r,e){for(var t in r)e[t]=r[t]}function s(r,e,t){return o(r,e,t)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=n:(i(n,e),e.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(r,e,t){if("number"==typeof r)throw new TypeError("Argument must not be a number");return o(r,e,t)},s.alloc=function(r,e,t){if("number"!=typeof r)throw new TypeError("Argument must be a number");var n=o(r);return void 0!==e?"string"==typeof t?n.fill(e,t):n.fill(e):n.fill(0),n},s.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return o(r)},s.allocUnsafeSlow=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return n.SlowBuffer(r)}}}]);